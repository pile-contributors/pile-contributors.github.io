---
layout: default
title: CMake
---

<div id="home">

	{% include cmake_list.html %}

	<div class="section">
		<h1 class="section_title"><a name="pileCmakeOutputPath">pileCmakeOutputPath</a></h1>
		<p>
			Computes an output path CMake style. A relative path to 
			<b>PROJECT_SOURCE_DIR</b> is computed using 
			<a href="#pileRelativePath">pileRelativePath</a>, then it is
			appended to <b>PROJECT_BINARY_DIR</b>.
		</p>
		<dl>
			<dt>Arguments:</dt>
			<dd>
				<dl>
					<dt>output</dt>
					<dd>
						the name of the output variable;
					</dd>
					<dt>input</dt>
					<dd>
						(absolute) input path
					</dd>
				</dl>
			</dd>
			<dt>Example:</dt>
			<dd>
				<code>
				pileCmakeOutputPath (OUTPUT_VAR "${CMAKE_SOURCE_DIR}/a_file.cc")
				</code>
			</dd>
		</dl>
	</div>
  
  
	<div class="section">
		<h1 class="section_title"><a name="pileRelativePath">pileRelativePath</a></h1>
		<p>
			Computes a relative path. Both <b>reference</b> ans <b>input</b>
			must be either unix like (/usr/bin) or Windows like (C:/Windows).
			Mixing them is undefined.
		</p>
		<ul>
		<li>for <b>input</b> /a/b/c and <b>reference</b> /a/b the result is ..</li>
		<li>for <b>input</b> /a/b and <b>reference</b> /a/b/c the result is c</li>
		<li>for <b>input</b> /a/1/2/3 and <b>reference</b> /a/b/c the result is  ../../../b/c</li>
		</ul>
		<p>If the paths are the same . is returned</p>
		<dl>
			<dt>Arguments:</dt>
			<dd>
				<dl>
					<dt>output</dt>
					<dd>
						the name of the output variable;
					</dd>
					<dt>reference</dt>
					<dd>
						(absolute) reference path
					</dd>
					<dt>input</dt>
					<dd>
						(absolute) input path
					</dd>
				</dl>
			</dd>
			<dt>Example:</dt>
			<dd>
				<code>
				pileRelativePath (OUTPUT_VAR "${CMAKE_SOURCE_DIR}" "${CMAKE_SOURCE_DIR}/a_file.cc" )
				</code>
			</dd>
		</dl>
	</div>
	
	<div class="section">
		<h1 class="section_title"><a name="pileUsedBy">pileUsedBy</a></h1>
		<p>
			Depending on the use style for this pile, may add the library
			to the target using <b>target_link_libraries</b>
			or it may create a dependency to the copy headers target.
		</p>
		<dl>
			<dt>Arguments:</dt>
			<dd>
				<dl>
					<dt>pile_name</dt>
					<dd>
						name of the pile
					</dd>
					<dt>target</dt>
					<dd>
						name of the target
					</dd>
				</dl>
			</dd>
			<dt>Example:</dt>
			<dd>
				<code>
				pileUsedBy (myLib somePile)
				</code>
			</dd>
			<dt>Status:</dt>
			<dd>
				<span style="color:red">not fully implemented</span>
			</dd>
		</dl>
	</div>
	
	<div class="section">
		<h1 class="section_title"><a name="pileDebugMessage">pileDebugMessage</a></h1>
		<p>
			Shows a debug message on behalf of the pile. These messages
			can be enabled or disabled on a per-pile basis using
			<b><em>PILE</em>_DEBUG_MSG</b> variable (<b>PILE</b> is the
			name of the pile upper-cased).
		</p>
		<p>
			To disable all messages generated by this macro set 
			<b>PILE_SUPPORT_DEBUG</b> to OFF (<b>PILE</b> in this case
			is the actual word PILE).
		</p>
		<p>
			The macros in <a href="https://github.com/pile-contributors/pile-cmake">pile-cmake repository</a>
			use this macro to report debug events.
		</p>
		<dl>
			<dt>Arguments:</dt>
			<dd>
				<dl>
					<dt>name</dt>
					<dd>
						name of the pile
					</dd>
					<dt>message</dt>
					<dd>
						the message to show
					</dd>
				</dl>
			</dd>
			<dt>Example:</dt>
			<dd>
				<code>
				pileDebugMessage (SomePile "message from a pile")
				</code>
			</dd>
		</dl>
	</div>
	
	<div class="section">
		<h1 class="section_title"><a name="pileInclude">pileInclude</a></h1>
		<p>
			Includes a pile .cmake file but does not initialize the pile.
		</p>
		<p>
			Path can be provided as optional arguments.
			If path is provided it can be absolute or relative to <b>CMAKE_SOURCE_DIR</b>.
			If path is not provided then <b>${CMAKE_SOURCE_DIR}/name</b> and
			<b>${CMAKE_SOURCE_DIR}/name-src</b> are tried.
		</p>
		<p>
			Defines following variables:
		</p>
		
		<dl>
			<dt><em>PILE</em>_NAME</dt><dd>the name with all-lower-case letters</dd>
			<dt><em>PILE</em>_NAME_U</dt><dd>the name with all-UPPER-case letters</dd>
			<dt><em>PILE</em>_NAME_C</dt><dd>the name as provided (should be CamelCase)</dd>
			<dt><em>PILE</em>_SOURCE_DIR</dt><dd>the path where this pile is stored (not including /cmake)</dd>
			<dt><em>PILE</em>_BINARY_DIR</dt><dd>the path where this pile generates output</dd>
		</dl>
		
		<p>
			 By using this function the top level CMake file does not have to
			 alter <b>CMAKE_MODULE_PATH</b> itself.
		</p>
		<dl>
			<dt>Arguments:</dt>
			<dd>
				<dl>
					<dt>name</dt>
					<dd>
						name of the pile, camel cased;
					</dd>
					<dt>(optional) path</dt>
					<dd>
						the path of this pile; both relative and absolute 
						paths are supported.
					</dd>
				</dl>
			</dd>
			<dt>Example:</dt>
			<dd>
				<code>
				pileInclude (SomePile)</br>
				pileInclude (SomePile "./somepile_in_nonstandard_path")
				</code>
			</dd>
		</dl>
	</div>
	
	
	
</div>
