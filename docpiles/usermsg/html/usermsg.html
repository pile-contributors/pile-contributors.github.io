<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>UserMsg: UserMsg | Piles</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link href="/assets/css/tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../../assets/js/jquery.js"></script>
<script type="text/javascript" src="../../../assets/js/dynsections.js"></script>
<!--
-->
<link href="/assets/css/navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../../assets/js/resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="../../../assets/js/navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="/assets/css/styleSheetFile.css" rel="stylesheet" type="text/css" />
<!--
-->
<link rel="icon"
  type="image/png"
  href="/assets/images/pile-16.png">
<link rel="shortcut icon"
  type="image/png"
  href="/assets/images/pile-16.png">
<link rel="stylesheet" href="/assets/css/main.css">
</head>
<body><div class="site">
<div class="header" id="site_header">
    <div class="title"><a href="/">Piles</a></div>
    <a class="extra" href="/">home</a>
    <a class="extra" href="/documentation.html">docs</a>
    <a class="extra" href="/docpiles/index.html">piles</a>
    <a class="extra" href="https://github.com/pile-contributors">GitHub</a>
</div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">UserMsg Pile
   &#160;<span id="projectnumber"> version 0.0.1</span>
   </div>
   <div id="projectbrief">UserMsg pile.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="class_user_msg.html" title="user messages mediator ">UserMsg</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="usermsg_intro"></a>
Introduction</h1>
<p>The <a class="el" href="class_user_msg.html" title="user messages mediator ">UserMsg</a> class provides a way to manage and dispatch messages that are intended for the user. The library does not provide the GUI to actually show the messages. Instread, a callback mechanism is employed and the user is expected to provide necessary callbacks. Also, the Qt signal/slot mechanism is also used, so the user has some flexibility in implementing the front-end.</p>
<h1><a class="anchor" id="usermsg_manager"></a>
Manager class</h1>
<p><a class="el" href="class_user_msg_man.html" title="brief description ">UserMsgMan</a> is the manager class. A singleton is created internally and it manages the settings and behaviour of <a class="el" href="class_user_msg.html" title="user messages mediator ">UserMsg</a>. The manager can be explicitly initialized but it does not have to. Any static function that will be invoked will first check for its existance and it will create it if it does not exists. Resources can be freed using <a class="el" href="class_user_msg_man.html#a378b75846c66e002d1e113b8df1fd866" title="Terminates the manager (releases resources). ">UserMsgMan::end()</a>, for example at the end of the application.</p>
<p>The messaging system can be disabled temporarly by calling <a class="el" href="class_user_msg_man.html#acf62190c57cfc0ad272968aac1b22149" title="Sets the cache mode; no messages are being shown. ">UserMsgMan::disable()</a>. It will accumulate the messages internaly and show them when <a class="el" href="class_user_msg_man.html#aa4272620fb969b272424d7d6d846fed1" title="Exist cached mode; cached messages are being shown. ">UserMsgMan::enable()</a> is called. The messages can be collapsed into one per type.</p>
<p>An initialization sequence that makes use of all the features of the manager may look like so:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    QApplication apl(argc, argv);</div>
<div class="line">    <span class="keywordtype">int</span> ret_val = 0;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_user_msg_man.html#ab2ca52aaf94e29ee9614aac580889bc2">UserMsgMan::init</a> (<span class="keyword">true</span>); <span class="comment">// true - start disabled; cache the messages until GUI is in place</span></div>
<div class="line">    UserMsgMan::filter (UserMsg::ERROR | UserMsg::WARNING);</div>
<div class="line"></div>
<div class="line">    MainWindow mw;</div>
<div class="line">    mw.show ();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// connect the signals to MainWindow</span></div>
<div class="line">    UserMsgMan::connect (&amp;mw, SLOT(<span class="stringliteral">&quot;userMessage(UserMsg::Type, const QString &amp;)));</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    UserMsgMan::enable (true); // show any cached messages</span></div>
<div class="line"><span class="stringliteral">    // we can choose to collapse all messages in a single message before</span></div>
<div class="line"><span class="stringliteral">    // transmitting them to be shown. In a gui that uses as front-end</span></div>
<div class="line"><span class="stringliteral">    // QMessageBox, for example, without this option the user would see</span></div>
<div class="line"><span class="stringliteral">    // one message box for each message that was produced.</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    apl.exec ();</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return 0;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
<div class="line"><span class="stringliteral">UserMsg::err (&quot;</span>An error message that is shown right away.<span class="stringliteral">&quot;);</span></div>
<div class="line"><span class="stringliteral">UserMsg::wrn (&quot;</span>A warning message that is shown right away.<span class="stringliteral">&quot;);</span></div>
<div class="line"><span class="stringliteral">UserMsg::info (&quot;</span>An informative message that is shown right away.<span class="stringliteral">&quot;);</span></div>
<div class="line"><span class="stringliteral">UserMsg::msg (UserMsg::ERROR, &quot;</span>An error message that is shown right away.<span class="stringliteral">&quot;);</span></div>
</div><!-- fragment --><h1><a class="anchor" id="usermsg_frontend"></a>
GUI Front-end</h1>
<p>The frontend has a range of options to connect and use the library.</p>
<h2><a class="anchor" id="usermsg_frontend_callbacks"></a>
Callbacks</h2>
<p>Following callbacks are available:</p>
<ul>
<li>enabled / disabled</li>
<li>show message for all kinds of messages</li>
<li>show message for a particular kind (one per kind)</li>
</ul>
<h2><a class="anchor" id="usermsg_frontend_signals"></a>
Qt Signals</h2>
<p>Following signals are available:</p>
<ul>
<li>show message for all kinds of messages</li>
<li>show message for a particular kind (one per kind)</li>
<li>show message for a particular kind (one per kind) with extended information (time, title)</li>
</ul>
<h1><a class="anchor" id="usermsg_usermsg"></a>
UserMsg</h1>
<p>A message consists of an optional title, an optional user defined value (payload) and a list of zero or more entries.</p>
<p>Each entry consists of a timestamp, a type and a message.</p>
<h1><a class="anchor" id="usermsg_informative"></a>
Informative messages</h1>
<p>The informative messages are errors, warnings and general information that is intended to the user. The user is only informed about the event and, depending on the GUI front-end, may need to confirm message acknowledgement.</p>
<p>A message can be shown right away:</p>
<div class="fragment"><div class="line"><a class="code" href="class_user_msg.html#a42f3209998b52cbaa11ca5a854d275dd">UserMsg::err</a> (<span class="stringliteral">&quot;An error message that is shown right away.&quot;</span>);</div>
<div class="line">UserMsg::wrn (<span class="stringliteral">&quot;A warning message that is shown right away.&quot;</span>);</div>
<div class="line"><a class="code" href="class_user_msg.html#ad630436b305d50d32d460ad889564176">UserMsg::info</a> (<span class="stringliteral">&quot;An informative message that is shown right away.&quot;</span>);</div>
<div class="line"><a class="code" href="class_user_msg.html#a02866a4fe30c350bbe6cc2dbdbf07a04">UserMsg::msg</a> (UserMsg::ERROR, <span class="stringliteral">&quot;An error message that is shown right away.&quot;</span>);</div>
</div><!-- fragment --><p>Messages can be accumulated in an instance of the class and presented later (or never presented):</p>
<div class="fragment"><div class="line"><a class="code" href="class_user_msg.html">UserMsg</a> um;</div>
<div class="line">um.<a class="code" href="class_user_msg.html#af6f21308a1365371615fa9c4d69018d0">addErr</a> (<span class="stringliteral">&quot;An error message that is not shown right away.&quot;</span>);</div>
<div class="line">um.addWrn (<span class="stringliteral">&quot;A warning message that is not shown right away.&quot;</span>);</div>
<div class="line">um.<a class="code" href="class_user_msg.html#afe2c127e4073c6f74caa709cf9832861">addInfo</a> (<span class="stringliteral">&quot;A warning message that is not shown right away.&quot;</span>);</div>
<div class="line">um.add (UserMsg::DEBUG_WARNING, <span class="stringliteral">&quot;A warning message that is not shown right away.&quot;</span>);</div>
</div><!-- fragment --><p>To show the content accumulated in the structure, if any, use:</p>
<div class="fragment"><div class="line">um.<a class="code" href="class_user_msg.html#ab723d97d2795efe67bf373da403e6371">show</a> ();</div>
</div><!-- fragment --><p>This will present the user with the messages the user elected to see. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><!--small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../../assets/images/doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small--></address>
</div></body>
</html>
